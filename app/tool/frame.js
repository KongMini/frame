const _0x1e1855 = _0x279b;
(function (_0x7a0a2e, _0x3d57f9) {
  const _0x4ed3e6 = _0x279b,
    _0x3063fc = _0x7a0a2e();
  while ([]) {
    try {
      const _0x429019 =
        (-parseInt(_0x4ed3e6(0x263)) / 0x1) * (parseInt(_0x4ed3e6(0x23a)) / 0x2) +
        -parseInt(_0x4ed3e6(0x32d)) / 0x3 +
        (parseInt(_0x4ed3e6(0x22b)) / 0x4) * (-parseInt(_0x4ed3e6(0x208)) / 0x5) +
        parseInt(_0x4ed3e6(0x27c)) / 0x6 +
        -parseInt(_0x4ed3e6(0x264)) / 0x7 +
        (parseInt(_0x4ed3e6(0x33e)) / 0x8) * (-parseInt(_0x4ed3e6(0x1e7)) / 0x9) +
        parseInt(_0x4ed3e6(0x25d)) / 0xa;
      if (_0x429019 === _0x3d57f9) break;
      else _0x3063fc['push'](_0x3063fc['shift']());
    } catch (_0x24e79e) {
      _0x3063fc['push'](_0x3063fc['shift']());
    }
  }
})(_0x4b60, 0x3a726);
var exportFileName = 'frame.jpeg';
const MAIN_COLOR = '#e14727',
  editorContainer = document[_0x1e1855(0x306)](_0x1e1855(0x2dd)),
  dropArea = document[_0x1e1855(0x306)](_0x1e1855(0x23f));
function _0x4b60() {
  const _0x2abed7 = [
    'color',
    'angle',
    'originalEvent',
    '.dropdown-batch-item-download',
    'upload_batch_photo',
    'active',
    'find',
    'json',
    'attr',
    'bind',
    'getAttribute',
    'pow',
    'stroke',
    '.coloris',
    'enterEditing',
    'Arial',
    '.area-result-image',
    'isArray',
    'curveDirect',
    '.font-size-dropdown',
    'StreetSignSans',
    '.frame-property-area',
    'change',
    'stopImmediatePropagation',
    '_file',
    '.text-color-input',
    'utm_source',
    'getActiveObject',
    'gg_tag_id',
    '.batch-action-header',
    'fill',
    'getElementById',
    'ios',
    'underline',
    'preventDefault',
    '0px',
    'center',
    'encode',
    'jpeg',
    'text_color',
    ':visible',
    'strftime',
    'unblockUI',
    'selection',
    '<a\x20/>',
    'appendTo',
    'getActiveObjects',
    'readAsArrayBuffer',
    'VinaSans',
    'data',
    '.png',
    'confirm_edit_image',
    'userAgent',
    'ViaodaLibre',
    'setInstance',
    '<ins\x20class=\x22adsbygoogle\x22\x20style=\x22display:block;\x20text-align:center;\x22\x20data-ad-layout=\x22in-article\x22\x20data-ad-format=\x22fluid\x22\x20data-ad-client=\x22ca-pub-4864197262264663\x22\x20data-ad-slot=\x222666903313\x22></ins>',
    'height',
    '.step',
    'body',
    'message',
    'addEventListener',
    'name',
    '/download/',
    'requestRenderAll',
    '.item',
    'lineHeight',
    'then',
    '#qr-code\x20img',
    'le_canvas',
    'Đang\x20diễn\x20ra',
    '468849ORdKPQ',
    'search',
    'setValue',
    'drop',
    '.area-profit',
    'setColor',
    'hide',
    'toggle',
    'parent',
    'fontWeight',
    'error',
    'font-list',
    '#shadow-distance-size-input',
    'html',
    'fontStyle',
    'setViewportTransform',
    'deltaY',
    '8YcxDXn',
    'event',
    '.btn-curve-type-down',
    'result',
    'readAsDataURL',
    'trigger',
    'POST',
    '.btn-curve-type-up',
    'addClass',
    '#image-zoom-input',
    'utm_medium',
    'bringToFront',
    '.font-size-input',
    'onloadend',
    '.extra-frames',
    'btn-active',
    'img',
    '#progress_bar_wait_download',
    'textAlign',
    'image_invalid',
    '.shadow-color-input',
    'removeChild',
    'Point',
    'viewportTransform',
    'Canvas',
    'blur',
    '/p/',
    'parentElement',
    'querySelector',
    'justify',
    '.btn-underline',
    '\x20A\x20',
    '#ffffff',
    '#line-height-input',
    'pill',
    'Network\x20response\x20was\x20not\x20ok',
    'Object',
    '&text=',
    '<span><span\x20class=\x22cd-num\x22>%-w</span><span\x20class=\x22cd-txt\x22>\x20tuần\x20</span></span>',
    'Google\x20Sans',
    'rgba(255,255,255,1)',
    'Roboto',
    'clone',
    'onerror',
    'bold',
    'className',
    '199791eEIEJs',
    '#qr-code',
    'expand',
    'update.countdown',
    'pathname',
    'collapse',
    'flipX',
    'font-item\x20bg-light',
    'slide',
    '.batch-frame-item-template',
    '#FFF',
    'copy_to_clipboard_success',
    'download_frame',
    'dataTransfer',
    'min',
    'target',
    '.frame-placeholder',
    'setHeight',
    '</span></li>',
    'delete',
    'px)',
    'hash',
    'setAttribute',
    'offsetHeight',
    'removeClass',
    'naturalWidth',
    'setWidth',
    'resultArrayBuffer',
    'slide\x20change',
    'width',
    '.frame-path-value',
    '#clock',
    'navigator',
    '65505wLwveM',
    'createObjectURL',
    'scaleY',
    '.download-instruction',
    'IText',
    '.btn-alignment-type-',
    'extraId',
    'forEach',
    'shadow',
    '.area-result-image\x20img',
    'getValue',
    'val',
    'slug',
    'show',
    'includes',
    '.batch-frame-item-image',
    'setBackgroundColor',
    'max_no_batch_photo',
    '#collapse_frame_area',
    'frame_qr_download',
    'selected',
    'Be\x20Vietnam',
    '.font-size-dropdown\x20.dropdown-item',
    '.stroke-color-input',
    'batch-frame-item-',
    '.area_process',
    '.btn-alignment-type',
    'setPositionByOrigin',
    'max',
    'type',
    'slider',
    'href',
    '.dropdown-settings',
    'sqrt',
    'remove',
    '36SCytJO',
    '.canvas-container',
    'view',
    'classList',
    'Iwona',
    'slice',
    'clientX',
    'length',
    '.extra-frames\x20.item',
    'ajax',
    'stringify',
    '.btn-curve-type-none',
    '.progress-image',
    '.batch-frame-item-image\x20img',
    'open',
    '4VvxPHw',
    'right',
    'setActiveObject',
    '.area-profit\x20.ads-wrapper',
    '\x200\x200\x201\x20',
    'drop_area',
    'touches',
    'push',
    'outerHeight',
    '#letter-spacing-input',
    'naturalHeight',
    'touchstart\x20touchmove\x20touchend',
    '.area_frame',
    '.property-',
    'files',
    'fbclid',
    'https://twitter.com/intent/tweet?url=',
    'replace',
    'modal',
    'filter',
    '.batch-frame-item-',
    'success',
    'Path',
    '.ob-range-thumb',
    'data-src',
    'strokeWidth',
    'abs',
    'click',
    '<span><span\x20class=\x22cd-num\x22>%H</span><span\x20class=\x22cd-txt\x22>\x20giờ\x20</span></span><span><span\x20class=\x22cd-num\x22>%M</span><span\x20class=\x22cd-txt\x22>\x20phút\x20</span></span>',
    '#shadow-perspective-size-input',
    'currentTarget',
    'opacity',
    'curveRadius',
    '/generate-image',
    '.frame-workspace',
    '6671270jCaoRZ',
    'prepend',
    'style',
    '.batch-item-total',
    'pointerEvents',
    'none',
    '215407aRBJsH',
    '50274JfvkoF',
    'frame_compress.zip',
    'fontSize',
    '.f-object-data',
    'appendChild',
    'add',
    'There\x20was\x20a\x20problem\x20with\x20your\x20fetch\x20operation:',
    'atan2',
    'renderAll',
    '.step-3\x20.btn',
    '.btn-format\x20.btn-ob',
    'undefined',
    '<span><span\x20class=\x22cd-num\x22>%S</span><span\x20class=\x22cd-txt\x22>\x20giây\x20</span></span>',
    '/api/v1/event-tracking',
    'batch-frame-item-template',
    'concat',
    'application/json',
    'normal',
    'location',
    '.btn-italic',
    'origin',
    'innerHTML',
    'rotate',
    'qrcode',
    '1839948dhisLO',
    'frame',
    '.btn-download-qr-code',
    'download',
    '.current-font-div',
    'outerWidth',
    'blockUI',
    'mobile',
    'css',
    'image',
    'hasClass',
    'offset',
    'clipboard',
    'write',
    'DarkerGrotesque',
    '.property-common-area',
    'iMatrix',
    '.property-obj-curve',
    'title',
    'resize',
    'avatar',
    'setCoords',
    'italic',
    'URL',
    'weeks',
    'scaleX',
    'discardActiveObject',
    'calc(',
    'tracking_service',
    'close',
    'Patriot',
    'resultUrl',
    '.btn-curve-type',
    '#stroke-size-input',
    '<li><span\x20class=\x22dropdown-item\x22>',
    'backgroundColor',
    'totalDays',
    '.batch-action-content',
    'background-size',
    'Enter\x20text',
    'offsetWidth',
    '_blank',
    'yes',
    '.property-detail-area',
    'onload',
    'top',
    'div',
    'zoomToPoint',
    'utm_campaign',
    'round',
    '.frame-property-item',
    '#frame_share_modal',
    'wheel',
    'getCenter',
    'toDataURL',
    '40px',
    'getCenterPoint',
    'getParser',
    'getTime',
    'onclick',
    'sin',
    'test',
    'i-text',
    'set',
    'scrollIntoView',
    '#image-rotate-input',
    'EPSILON',
    'offsetY',
    'toLowerCase',
    '.batch-frames',
    'circle',
    'fontFamily',
    'clientY',
    '%\x20-\x20',
    '.btn-bold',
    'src',
    '#upload_batch_photo',
    'max-height',
    'left',
    'open_telegram_mini_app',
    'browser',
    'position',
    '.image-editor',
    'upload_photo',
    'value',
    'setControlsVisibility',
    '#000000',
    '#object-rotate-input',
    'auto',
    'split',
    'format',
    '.background-color-input',
    'createElement',
    'replaceState',
    '=.*$',
    'dragover',
    'platform',
    'frame-container',
    'open_zalo_mini_app',
    'translations',
    '.common-area',
    'Image',
    'newValue',
    'https://www.facebook.com/sharer.php?u=',
    'url',
    'error_happen',
    'options',
  ];
  _0x4b60 = function () {
    return _0x2abed7;
  };
  return _0x4b60();
}
var zCanvas,
  imageFrame,
  frameObject,
  imageAvatar,
  avatarObject,
  originWidth = 0x2bc,
  originHeight = 0x2bc,
  currentStep = 0x1,
  mainSize = {},
  screenRateScale = 0x1;
let browserInfo,
  isIosWv = ![];
var zoomInputObj,
  rotateInputObj,
  letterSpacingInputObj,
  lineHeightInputObj,
  objRotateInputObj,
  strokeSizeInputObj,
  shadowBlurSizeInputObj,
  shadowDistanceSizeInputObj,
  shadowPerspectiveSizeInputObj,
  curveAngleSizeInputObj;
let arrBatchFile = [];
const fontList = document[_0x1e1855(0x306)](_0x1e1855(0x338));
(function () {
  const _0x306a50 = _0x1e1855;
  var _0x373f7e = _0x306a50(0x249);
  if (location[_0x306a50(0x32e)]['indexOf'](_0x373f7e + '=') !== -0x1) {
    var _0x1b6825 = '';
    try {
      var _0x1f355c = new URL(location);
      _0x1f355c['searchParams']['delete'](_0x373f7e), (_0x1b6825 = _0x1f355c[_0x306a50(0x227)]);
    } catch (_0xac891b) {
      var _0x2b4a12 = new RegExp('[?&]' + _0x373f7e + _0x306a50(0x2da));
      (_0x1b6825 = location[_0x306a50(0x32e)][_0x306a50(0x24b)](_0x2b4a12, '')),
        (_0x1b6825 = location[_0x306a50(0x1eb)] + _0x1b6825 + location[_0x306a50(0x1fc)]);
    }
    history[_0x306a50(0x2d9)](null, '', _0x1b6825);
  }
})(),
  $(function () {
    const _0x3bf5e1 = _0x1e1855;
    $(_0x3bf5e1(0x1f7))[_0x3bf5e1(0x333)](),
      $('#le_canvas')[_0x3bf5e1(0x215)](),
      (zCanvas = new fabric[_0x3bf5e1(0x1d1)](_0x3bf5e1(0x32b), {
        selection: ![],
        preserveObjectStacking: !![],
      })),
      setupControls(),
      initCanvas(),
      initZoomEvent(),
      initEvent(),
      initUI(),
      initFonts(),
      initClock(),
      initExtraFrames(),
      initWebViewInfo(),
      initQRCode(),
      SendTracking(_0x3bf5e1(0x22d));
  });
async function initCanvas() {
  const _0x201f72 = _0x1e1855;
  zCanvas['remove'](...zCanvas['getObjects']()),
    (imageAvatar = await GetImageMeta(srcAvatarDefault));
  if (!imageAvatar) {
    showError(window[_0x201f72(0x2df)][_0x201f72(0x2e5)]);
    return;
  }
  (mainSize = {
    width: parseInt(imageAvatar[_0x201f72(0x204)]),
    height: parseInt(imageAvatar[_0x201f72(0x31f)]),
  }),
    (imageFrame = await GetImageMeta(currentFrameSrc));
  if (!imageFrame) {
    showError(window[_0x201f72(0x2df)][_0x201f72(0x2e5)]);
    return;
  }
  (originWidth = imageFrame[_0x201f72(0x200)]),
    (originHeight = imageFrame[_0x201f72(0x244)]),
    (mainPosition = { x: originWidth / 0x2, y: originHeight / 0x2 }),
    ($(_0x201f72(0x221))[_0x201f72(0x31f)] = originHeight),
    ($(_0x201f72(0x246))[_0x201f72(0x204)] = originWidth),
    ($(_0x201f72(0x2e0))[_0x201f72(0x204)] = originWidth),
    ($(_0x201f72(0x2e0))[_0x201f72(0x31f)] = originHeight),
    zCanvas[_0x201f72(0x201)](originWidth),
    zCanvas[_0x201f72(0x1f8)](originHeight),
    zCanvas[_0x201f72(0x218)](
      'rgba(255,255,255,1)',
      zCanvas['renderAll'][_0x201f72(0x2f0)](zCanvas)
    ),
    (avatarObject = new fabric[_0x201f72(0x2e1)](imageAvatar)),
    avatarObject[_0x201f72(0x2bb)]({
      scaleX: 0x1,
      scaleY: 0x1,
      evented: ![],
      selectable: ![],
      lockRotation: !![],
      lockScalingX: !![],
      lockScalingY: !![],
      id: _0x201f72(0x290),
    }),
    zCanvas['add'](avatarObject),
    (frameObject = new fabric['Image'](imageFrame)),
    frameObject[_0x201f72(0x2bb)]({
      scaleX: 0x1,
      scaleY: 0x1,
      evented: ![],
      selectable: ![],
      id: _0x201f72(0x27d),
    }),
    zCanvas['add'](frameObject),
    processResizeScreen(),
    resetAvatarProperties(),
    (zCanvas[_0x201f72(0x312)] = ![]),
    zCanvas[_0x201f72(0x26c)]();
}
let prevDiff = -0x1;
function initEvent() {
  const _0x351b39 = _0x1e1855;
  document['getElementById'](_0x351b39(0x2eb)) &&
    ((document['getElementById']('upload_batch_photo')['onclick'] = function () {
      const _0x4ff068 = _0x351b39;
      this[_0x4ff068(0x2d0)] = null;
    }),
      document['getElementById'](_0x351b39(0x2eb))[_0x351b39(0x323)](
        'change',
        function () {
          readBatchPhotoUpload(this);
        },
        ![]
      ));
}
function initZoomEvent() {
  const _0x1feb3d = _0x1e1855;
  editorContainer['addEventListener'](_0x1feb3d(0x2b0), function (_0x421c20) {
    const _0x5169b3 = _0x1feb3d,
      _0x4fbae2 = zCanvas['getActiveObject']();
    if (
      $('.step-2')[_0x5169b3(0x284)]('display') != 'block' ||
      (_0x4fbae2 && _0x4fbae2['id'] != 'avatar')
    )
      return;
    _0x421c20[_0x5169b3(0x309)]();
    const _0x6d5cf7 = _0x421c20[_0x5169b3(0x33d)];
    _0x6d5cf7 > 0x0 ? onZoomOut() : onZoomIn();
  }),
    $('#frame-container')['on'](_0x1feb3d(0x245), function (_0x3de987) {
      const _0x2ac7e0 = _0x1feb3d;
      if (_0x3de987[_0x2ac7e0(0x2e9)]['touches'][_0x2ac7e0(0x232)] < 0x2) {
        prevDiff = -0x1;
        return;
      }
      _0x3de987['preventDefault'](), _0x3de987[_0x2ac7e0(0x2fe)]();
      const _0x3f9c86 = _0x3de987[_0x2ac7e0(0x2e9)][_0x2ac7e0(0x240)];
      var _0x5cf9a7 = Math[_0x2ac7e0(0x229)](
        Math[_0x2ac7e0(0x2f2)](_0x3f9c86[0x1][_0x2ac7e0(0x231)] - _0x3f9c86[0x0]['clientX'], 0x2) +
        Math[_0x2ac7e0(0x2f2)](_0x3f9c86[0x1]['clientY'] - _0x3f9c86[0x0][_0x2ac7e0(0x2c4)], 0x2)
      );
      prevDiff > 0x0 && (_0x5cf9a7 > prevDiff && onZoomIn(), _0x5cf9a7 < prevDiff && onZoomOut()),
        (prevDiff = _0x5cf9a7);
    });
}
function initUI() {
  const _0x1b0e37 = _0x1e1855;
  (zoomInputObj = $(_0x1b0e37(0x1c2))['slider']({
    formatter: function (_0x5c17c) {
      const _0x12db3a = _0x1b0e37;
      return Math[_0x12db3a(0x2ad)](parseFloat(_0x5c17c) * 0x64) + '%';
    },
  })),
    zoomInputObj['on'](_0x1b0e37(0x2fd), function (_0x324333) {
      const _0x1ab678 = _0x1b0e37;
      onChangeZoom(_0x324333['value'][_0x1ab678(0x2e2)]);
    }),
    (rotateInputObj = $(_0x1b0e37(0x2bd))['slider']({
      formatter: function (_0x5db20a) {
        return _0x5db20a + '°';
      },
    })),
    rotateInputObj['on'](_0x1b0e37(0x2fd), function (_0x295f40) {
      const _0x54e9bb = _0x1b0e37;
      onChangeRotate(_0x295f40[_0x54e9bb(0x2d0)][_0x54e9bb(0x2e2)]);
    }),
    (letterSpacingInputObj = $(_0x1b0e37(0x243))['slider']()),
    letterSpacingInputObj['on'](_0x1b0e37(0x2fd), function (_0x465368) {
      const _0x22a0fa = _0x1b0e37;
      changeLetterSpacing(_0x465368[_0x22a0fa(0x2d0)][_0x22a0fa(0x2e2)]);
    }),
    (lineHeightInputObj = $(_0x1b0e37(0x1da))[_0x1b0e37(0x226)]()),
    lineHeightInputObj['on']('change', function (_0x59d438) {
      const _0x40fc9a = _0x1b0e37;
      changeLineHeight(_0x59d438[_0x40fc9a(0x2d0)][_0x40fc9a(0x2e2)]);
    }),
    (objRotateInputObj = $(_0x1b0e37(0x2d3))[_0x1b0e37(0x226)]({
      formatter: function (_0x2295fd) {
        return _0x2295fd + '°';
      },
    })),
    objRotateInputObj['on'](_0x1b0e37(0x2fd), function (_0x1a3b72) {
      const _0x856c1e = _0x1b0e37;
      changeObjectRotate(_0x1a3b72['value'][_0x856c1e(0x2e2)]);
    }),
    (strokeSizeInputObj = $(_0x1b0e37(0x29d))[_0x1b0e37(0x226)]()),
    strokeSizeInputObj['on'](_0x1b0e37(0x2fd), function (_0xd0c8cc) {
      const _0x2b31c9 = _0x1b0e37;
      changeStrokeSize(_0xd0c8cc[_0x2b31c9(0x2d0)][_0x2b31c9(0x2e2)]);
    }),
    (shadowBlurSizeInputObj = $('#shadow-blur-size-input')[_0x1b0e37(0x226)]()),
    shadowBlurSizeInputObj['on'](_0x1b0e37(0x2fd), function (_0x111313) {
      const _0xf64eab = _0x1b0e37;
      changeShadow({ blur: _0x111313[_0xf64eab(0x2d0)][_0xf64eab(0x2e2)] });
    }),
    (shadowDistanceSizeInputObj = $(_0x1b0e37(0x339))['slider']()),
    shadowDistanceSizeInputObj['on'](_0x1b0e37(0x2fd), function () {
      changeDistanceShadow();
    }),
    (shadowPerspectiveSizeInputObj = $(_0x1b0e37(0x257))[_0x1b0e37(0x226)]({
      formatter: function (_0x1c4c2c) {
        return _0x1c4c2c + '°';
      },
    })),
    shadowPerspectiveSizeInputObj['on'](_0x1b0e37(0x2fd), function () {
      changeDistanceShadow();
    }),
    (curveAngleSizeInputObj = $('#curve-angle-input')[_0x1b0e37(0x226)]()),
    curveAngleSizeInputObj['on'](_0x1b0e37(0x203), function (_0x2f784e) {
      const _0x19dd61 = _0x1b0e37;
      _0x2f784e['type'] == _0x19dd61(0x1ef)
        ? changeCurve(_0x2f784e[_0x19dd61(0x2d0)])
        : changeCurve(_0x2f784e[_0x19dd61(0x2d0)][_0x19dd61(0x2e2)]);
    });
}
function initFonts() {
  const _0x1eab0e = _0x1e1855;
  (fontList[_0x1eab0e(0x279)] = ''),
    FONTS[_0x1eab0e(0x20f)]((_0x510726) => {
      const _0x44d5fc = _0x1eab0e,
        _0x34f4e6 = document[_0x44d5fc(0x2d8)](_0x44d5fc(0x2aa));
      (_0x34f4e6[_0x44d5fc(0x1e6)] = _0x44d5fc(0x1ee)),
        _0x34f4e6[_0x44d5fc(0x1fd)]('data-font', _0x510726[_0x44d5fc(0x324)]),
        (_0x34f4e6[_0x44d5fc(0x2b7)] = function () {
          changeFont(_0x510726['name']);
        });
      const _0x5b018e = document['createElement']('p');
      (_0x5b018e['innerHTML'] = _0x510726[_0x44d5fc(0x324)]),
        (_0x5b018e[_0x44d5fc(0x25f)]['fontFamily'] = _0x510726['name']),
        _0x34f4e6[_0x44d5fc(0x268)](_0x5b018e),
        fontList[_0x44d5fc(0x268)](_0x34f4e6);
    });
}
function _0x279b(_0x165421, _0x295de7) {
  const _0x4b60ac = _0x4b60();
  return (
    (_0x279b = function (_0x279b86, _0x57f198) {
      _0x279b86 = _0x279b86 - 0x1ba;
      let _0x53d29b = _0x4b60ac[_0x279b86];
      return _0x53d29b;
    }),
    _0x279b(_0x165421, _0x295de7)
  );
}
function initClock() {
  const _0x51c48f = _0x1e1855,
    _0x5a46f6 = $(_0x51c48f(0x206));
  if (_0x5a46f6[_0x51c48f(0x232)] == 0x0) return ![];
  const _0x4c8473 = _0x5a46f6[_0x51c48f(0x318)]('countdown');
  _0x5a46f6['countdown'](_0x4c8473)
  ['on'](_0x51c48f(0x1ea), function (_0x15ad78) {
    const _0x11967e = _0x51c48f;
    var _0x344c04 = _0x11967e(0x256);
    _0x15ad78['offset'][_0x11967e(0x2a0)] > 0x0
      ? (_0x344c04 =
        '<span><span\x20class=\x22cd-num\x22>%-d</span><span\x20class=\x22cd-txt\x22>\x20ngày\x20</span></span>' +
        _0x344c04)
      : (_0x344c04 += _0x11967e(0x270)),
      _0x15ad78[_0x11967e(0x287)][_0x11967e(0x294)] > 0x0 &&
      (_0x344c04 = _0x11967e(0x1df) + _0x344c04),
      $(this)[_0x11967e(0x33a)](_0x15ad78[_0x11967e(0x310)](_0x344c04));
  })
  ['on']('finish.countdown', function () {
    const _0x524263 = _0x51c48f;
    $(this)[_0x524263(0x33a)](_0x524263(0x32c))[_0x524263(0x335)]()[_0x524263(0x333)]();
  });
}
function flipImage() {
  const _0x27e72c = _0x1e1855;
  (avatarObject[_0x27e72c(0x1ed)] = !avatarObject[_0x27e72c(0x1ed)]), zCanvas[_0x27e72c(0x26c)]();
}
function onZoomOut() {
  const _0x2ef70b = _0x1e1855;
  let _0x57108e = avatarObject[_0x2ef70b(0x295)];
  (_0x57108e /= 1.05),
    _0x57108e < 0.1 && (_0x57108e = 0.1),
    zoomInputObj['slider']('setValue', _0x57108e),
    onChangeZoom(_0x57108e);
}
function onZoomIn() {
  const _0x1ae224 = _0x1e1855;
  let _0x42c001 = avatarObject[_0x1ae224(0x295)];
  (_0x42c001 *= 1.05),
    _0x42c001 > 0x3 && (_0x42c001 = 0x3),
    zoomInputObj[_0x1ae224(0x226)](_0x1ae224(0x32f), _0x42c001),
    onChangeZoom(_0x42c001);
}
function setZoomDefault() {
  const _0x523df1 = _0x1e1855;
  zoomInputObj[_0x523df1(0x226)]('setValue', 0x1), onChangeZoom(0x1);
}
function onChangeObScrollObj(_0x388a63) {
  const _0x2c2ec6 = _0x1e1855,
    _0x2ced41 = _0x388a63[_0x2c2ec6(0x2f1)](_0x2c2ec6(0x224)),
    _0x5a6a9b = _0x388a63[_0x2c2ec6(0x2f1)](_0x2c2ec6(0x1f5)),
    _0xac58ed = _0x388a63[_0x2c2ec6(0x1d4)][_0x2c2ec6(0x1d5)](_0x2c2ec6(0x251));
  _0xac58ed[_0x2c2ec6(0x25f)][_0x2c2ec6(0x2ca)] =
    ((_0x388a63['value'] - _0x5a6a9b) / (_0x2ced41 - _0x5a6a9b)) * 0x64 + '%';
}
function onChangeZoom(_0x5031c9) {
  const _0x531381 = _0x1e1855;
  (avatarObject['scaleX'] = _0x5031c9),
    (avatarObject[_0x531381(0x20a)] = _0x5031c9),
    avatarObject[_0x531381(0x291)](),
    zCanvas[_0x531381(0x326)]();
}
function rotateRight() {
  const _0x1e2744 = _0x1e1855;
  setRotate(parseInt(avatarObject[_0x1e2744(0x2e8)] || 0x0) + 0x2d);
}
function rotateLeft() {
  setRotate(parseInt(avatarObject['angle'] || 0x0) - 0x2d);
}
function setRotateDefault() {
  setRotate(0x0);
}
function setRotate(_0x4f8597) {
  const _0x2baf07 = _0x1e1855;
  _0x4f8597 > 0xb4 && (_0x4f8597 = _0x4f8597 - 0x168),
    _0x4f8597 < -0xb4 && (_0x4f8597 = 0x168 + _0x4f8597),
    rotateInputObj[_0x2baf07(0x226)](_0x2baf07(0x32f), _0x4f8597),
    onChangeRotate(_0x4f8597);
}
function onChangeRotate(_0x4c7fcd) {
  const _0x32e653 = _0x1e1855;
  (avatarObject[_0x32e653(0x2e8)] = _0x4c7fcd),
    avatarObject[_0x32e653(0x291)](),
    zCanvas[_0x32e653(0x26c)]();
}
dropArea['addEventListener'](_0x1e1855(0x2db), function (_0x2af3aa) {
  const _0x8e42b5 = _0x1e1855;
  _0x2af3aa[_0x8e42b5(0x309)]();
}),
  dropArea['addEventListener'](_0x1e1855(0x330), function (_0x5dd935) {
    const _0x5984f8 = _0x1e1855;
    _0x5dd935[_0x5984f8(0x309)](), readPhotoUpload(_0x5dd935[_0x5984f8(0x1f4)]);
  });
function onChoosePhoto() {
  const _0x1e6ef7 = _0x1e1855;
  $('#upload_photo')[_0x1e6ef7(0x1be)]('click');
}
(document[_0x1e1855(0x306)](_0x1e1855(0x2cf))['onclick'] = function () {
  const _0x42d52b = _0x1e1855;
  this[_0x42d52b(0x2d0)] = null;
}),
  document[_0x1e1855(0x306)](_0x1e1855(0x2cf))[_0x1e1855(0x323)](
    _0x1e1855(0x2fd),
    function () {
      readPhotoUpload(this);
    },
    ![]
  );
function readPhotoUpload(_0x543614) {
  const _0x29f7f7 = _0x1e1855;
  if (_0x543614[_0x29f7f7(0x248)] && _0x543614['files'][0x0]) {
    var _0x240598 = new FileReader();
    (_0x240598['onload'] = function (_0x3e368d) {
      const _0x1649e7 = _0x29f7f7;
      loadAvatarUpload(_0x3e368d[_0x1649e7(0x1f6)]['result'], '');
    }),
      _0x240598[_0x29f7f7(0x1bd)](_0x543614[_0x29f7f7(0x248)][0x0]);
  }
}
function loadAvatarUpload(_0x5312f9, _0xfd5d30) {
  const _0x139b6f = _0x1e1855;
  var _0x2ef980 = new Image();
  (_0x2ef980['src'] = _0x5312f9),
    (_0x2ef980[_0x139b6f(0x2a8)] = function () {
      const _0x2db7f8 = _0x139b6f;
      avatarObject && (zCanvas['remove'](avatarObject), (avatarObject = null)),
        (imageAvatar = _0x2ef980),
        (mainSize = {
          width: parseInt(this[_0x2db7f8(0x204)]),
          height: parseInt(this[_0x2db7f8(0x31f)]),
        }),
        (avatarObject = new fabric[_0x2db7f8(0x2e1)](_0x2ef980)),
        avatarObject['set']({
          selectable: !![],
          hasControls: ![],
          hasBorders: ![],
          lockRotation: !![],
          lockScalingX: !![],
          lockScalingY: !![],
          originX: _0x2db7f8(0x30b),
          originY: 'center',
          id: _0x2db7f8(0x290),
        }),
        _0xfd5d30 && avatarObject[_0x2db7f8(0x2bb)]({ extraId: _0xfd5d30 }),
        avatarObject[_0x2db7f8(0x2d1)]({
          mt: ![],
          mb: ![],
          ml: ![],
          mr: ![],
          bl: ![],
          br: ![],
          tl: ![],
          tr: ![],
          mtr: ![],
        }),
        zCanvas[_0x2db7f8(0x269)](avatarObject),
        zCanvas['sendToBack'](avatarObject),
        zCanvas[_0x2db7f8(0x26c)](),
        resetAvatarProperties(),
        currentStep == 0x1 && changeStep(0x2);
    }),
    (_0x2ef980[_0x139b6f(0x1e4)] = function (_0x4bc070) {
      const _0xbab8d6 = _0x139b6f;
      showNotification(window['translations'][_0xbab8d6(0x1cc)], _0xbab8d6(0x337));
    });
}
function readBatchPhotoUpload(_0x540d3f) {
  const _0x3248a8 = _0x1e1855;
  if (!_0x540d3f[_0x3248a8(0x248)] || _0x540d3f[_0x3248a8(0x248)][_0x3248a8(0x232)] == 0x0) return;
  $[_0x3248a8(0x282)]({ message: '' });
  for (
    var _0x428136 = 0x0;
    _0x428136 < _0x540d3f[_0x3248a8(0x248)][_0x3248a8(0x232)];
    _0x428136++
  ) {
    var _0x1f6037 = _0x540d3f[_0x3248a8(0x248)][_0x428136],
      _0x55d662 = new FileReader();
    (_0x55d662[_0x3248a8(0x2ff)] = _0x1f6037),
      (_0x55d662[_0x3248a8(0x1c6)] = function () {
        onProcessBatchFile(this);
      }),
      _0x55d662[_0x3248a8(0x316)](_0x1f6037);
  }
  $[_0x3248a8(0x311)]();
}
function resetAvatarProperties() {
  const _0x1d2fa5 = _0x1e1855;
  let _0x5eb357 = 0x1;
  mainSize['width'] > originWidth &&
    mainSize[_0x1d2fa5(0x31f)] > originHeight &&
    (mainSize[_0x1d2fa5(0x204)] > mainSize[_0x1d2fa5(0x31f)]
      ? (_0x5eb357 = originHeight / mainSize[_0x1d2fa5(0x31f)])
      : (_0x5eb357 = originWidth / mainSize[_0x1d2fa5(0x204)]),
      (_0x5eb357 = Math[_0x1d2fa5(0x2ad)]((_0x5eb357 + Number[_0x1d2fa5(0x2be)]) * 0x64) / 0x64));
  var _0x30aa1b = new fabric[_0x1d2fa5(0x1cf)](originWidth / 0x2, originHeight / 0x2);
  avatarObject[_0x1d2fa5(0x223)](_0x30aa1b, _0x1d2fa5(0x30b), _0x1d2fa5(0x30b)),
    onChangeZoom(_0x5eb357),
    zoomInputObj[_0x1d2fa5(0x226)]('setValue', _0x5eb357),
    setRotateDefault(),
    zCanvas[_0x1d2fa5(0x26c)]();
}
function addText() {
  const _0x1c7cd9 = _0x1e1855,
    _0x57b45 = Math[_0x1c7cd9(0x1f5)](originWidth, originHeight),
    _0x2b5a7d = Math[_0x1c7cd9(0x2ad)](_0x57b45 / 0xc),
    _0x2e7ce0 = 'Arial',
    _0x290cc2 = new fabric[_0x1c7cd9(0x20c)](_0x1c7cd9(0x2a3), {
      fontFamily: _0x2e7ce0,
      fill: _0x1c7cd9(0x2d2),
      fontSize: _0x2b5a7d,
      textAlign: _0x1c7cd9(0x30b),
      id: RandomString(),
      stroke: _0x1c7cd9(0x1d9),
      strokeWidth: 0x0,
      originX: 'center',
      originY: _0x1c7cd9(0x30b),
      lockRotation: !![],
      lockScalingX: !![],
      lockScalingY: !![],
    });
  _0x290cc2[_0x1c7cd9(0x2d1)]({
    mt: ![],
    mb: ![],
    ml: ![],
    mr: ![],
    bl: ![],
    br: ![],
    tl: ![],
    tr: ![],
    mtr: ![],
  }),
    zCanvas[_0x1c7cd9(0x269)](_0x290cc2),
    SetObjectCenter(_0x290cc2),
    zCanvas[_0x1c7cd9(0x1c4)](_0x290cc2),
    zCanvas[_0x1c7cd9(0x23c)](_0x290cc2),
    _0x290cc2[_0x1c7cd9(0x2f5)]();
}
function deleteObject() {
  const _0x38b5a0 = _0x1e1855;
  zCanvas[_0x38b5a0(0x22a)](zCanvas['getActiveObject']());
}
function clearSelectObject() {
  const _0x483d3a = _0x1e1855;
  zCanvas[_0x483d3a(0x296)]()[_0x483d3a(0x26c)]();
}
function showDownloadBtn() {
  const _0x620224 = _0x1e1855;
  $('.waiting-txt')[_0x620224(0x333)](), $(_0x620224(0x26d))[_0x620224(0x215)]();
}
const optResult = { format: _0x1e1855(0x30d), quality: 0.9 };
function countDownShowDownload() {
  const _0x5e7374 = _0x1e1855,
    _0x16693d = getRndInteger(0x1, 0x3);
  var _0x39901f = _0x16693d;
  $(_0x5e7374(0x331))[_0x5e7374(0x284)]('background-size', _0x5e7374(0x2b3)),
    $(_0x5e7374(0x237))['show']();
  var _0x4e6a50 = setInterval(_0x24a5c9, 0x64);
  function _0x24a5c9() {
    const _0x1225a9 = _0x5e7374;
    _0x39901f <= 0x0 &&
      ((_0x39901f = 0x0),
        clearInterval(_0x4e6a50),
        showDownloadBtn(),
        $(_0x1225a9(0x331))[_0x1225a9(0x284)](_0x1225a9(0x2a2), _0x1225a9(0x30a)),
        $('.progress-image')[_0x1225a9(0x333)]()),
      $(_0x1225a9(0x1ca))[_0x1225a9(0x284)](
        'width',
        parseInt(0x64 - (_0x39901f / _0x16693d) * 0x64) + '%'
      ),
      (_0x39901f -= 0.1);
    const _0x4ba4a0 = _0x1e1855;
    $(_0x4ba4a0(0x237))[_0x4ba4a0(0x333)](),
      showDownloadBtn(),
      $('.area-profit')[_0x4ba4a0(0x333)](),
      $('.area-result-image')[_0x4ba4a0(0x215)]();
    const _0x3cd33d = getResultImageData();
    $(_0x4ba4a0(0x211))[_0x4ba4a0(0x2ef)](_0x4ba4a0(0x2c7), _0x3cd33d);
  }
}
function getResultImageData() {
  const _0x1a1c12 = _0x1e1855;
  var _0x9c0c = zCanvas[_0x1a1c12(0x1d0)][_0x1a1c12(0x230)]();
  zCanvas['setViewportTransform']([0x1, 0x0, 0x0, 0x1, 0x0, 0x0]);
  const _0x8f016e = zCanvas[_0x1a1c12(0x2b2)]({
    ...optResult,
    width: originWidth,
    height: originHeight,
  });
  return zCanvas[_0x1a1c12(0x33c)](_0x9c0c), _0x8f016e;
}
function showDownloadStep() {
  const _0x4ba4a0 = _0x1e1855;
  $(_0x4ba4a0(0x26d))[_0x4ba4a0(0x333)]();
  if (isShowAds == '1')
    $('.waiting-txt')[_0x4ba4a0(0x215)](),
      countDownShowDownload(),
      $('.area-profit')[_0x4ba4a0(0x215)](),
      $(_0x4ba4a0(0x23d))['html'](_0x4ba4a0(0x31e)),
      (adsbygoogle = window['adsbygoogle'] || [])[_0x4ba4a0(0x241)]({});
  else {
    $(_0x4ba4a0(0x237))[_0x4ba4a0(0x333)](),
      showDownloadBtn(),
      $('.area-profit')[_0x4ba4a0(0x333)](),
      $('.area-result-image')[_0x4ba4a0(0x215)]();
    const _0x3cd33d = getResultImageData();
    $(_0x4ba4a0(0x211))[_0x4ba4a0(0x2ef)](_0x4ba4a0(0x2c7), _0x3cd33d);
  }
}
function downloadImage() {
  const _0x3f35b0 = _0x1e1855,
    _0xf7021d = getResultImageData();
  $(_0x3f35b0(0x211))[_0x3f35b0(0x2ef)](_0x3f35b0(0x2c7), _0xf7021d);
  window[_0x3f35b0(0x303)] != '' &&
    gtag(_0x3f35b0(0x1ba), _0x3f35b0(0x1f3), {
      item_id: $(_0x3f35b0(0x267))[_0x3f35b0(0x318)]('id'),
      item_name: $('.f-object-data')[_0x3f35b0(0x318)]('title'),
      item_slug: $('.f-object-data')['data'](_0x3f35b0(0x214)),
    });
  SendTracking('download');
  const _0x328c99 = browserInfo?.['os']?.['name']?.[_0x3f35b0(0x2c0)]();
  if (
    _0x328c99 == _0x3f35b0(0x307) &&
    (isIosWv ||
      (browserInfo?.[_0x3f35b0(0x2cc)]?.[_0x3f35b0(0x324)] || '')[_0x3f35b0(0x2c0)]() == 'chrome')
  )
    return changeStep(0x4), '';
  if (_0x328c99 == 'android' && isAndroidDownloadImg == '1') {
    $[_0x3f35b0(0x282)]({ message: '' });
    const _0x36463b = { _token: TOKEN, image: _0xf7021d };
    return (
      $[_0x3f35b0(0x234)]({
        url: URL_ROOT + _0x3f35b0(0x25b),
        type: _0x3f35b0(0x1bf),
        data: JSON[_0x3f35b0(0x235)](_0x36463b),
        contentType: _0x3f35b0(0x274),
        success: function (_0x50bd46) {
          const _0x9879a2 = _0x3f35b0;
          if (_0x50bd46[_0x9879a2(0x24f)]) {
            const _0xc68a73 = URL_ROOT + _0x9879a2(0x325) + _0x50bd46[_0x9879a2(0x322)];
            var _0x14943f = $(_0x9879a2(0x313), { href: _0xc68a73 })
            [_0x9879a2(0x333)]()
            [_0x9879a2(0x314)]('body');
            _0x14943f[0x0][_0x9879a2(0x255)](), _0x14943f[_0x9879a2(0x22a)]();
          }
          $[_0x9879a2(0x311)](), changeStep(0x4);
        },
        error: function () {
          const _0x4dfa06 = _0x3f35b0;
          $[_0x4dfa06(0x311)]();
        },
      }),
      ''
    );
  }
  changeStep(0x4),
    setTimeout(() => {
      const _0x4da5e9 = _0x3f35b0,
        _0x2a6464 =
          _0xf7021d[_0x4da5e9(0x2d5)](',')[_0x4da5e9(0x232)] > 0x1
            ? _0xf7021d[_0x4da5e9(0x2d5)](',')[0x1]
            : _0xf7021d;
      var _0x2e9bc = Base64toBlob(_0x2a6464, 'image/jpeg'),
        _0x1acb68 = window[_0x4da5e9(0x293)][_0x4da5e9(0x209)](_0x2e9bc);
      tempDownload(_0x1acb68);
    }, 0x1f4);
}
function tempDownload(_0xbb6456) {
  const _0x1b4ec9 = _0x1e1855;
  var _0x3a3a36 = $(_0x1b4ec9(0x313), {
    href: _0xbb6456,
    download: new Date()[_0x1b4ec9(0x2b6)]() + exportFileName,
  })
  [_0x1b4ec9(0x333)]()
  [_0x1b4ec9(0x314)](_0x1b4ec9(0x321));
  _0x3a3a36[0x0]['click'](), _0x3a3a36['remove']();
}
async function CopyToClipboard() {
  const _0x1e9902 = _0x1e1855,
    _0xce2e14 = getResultImageData(),
    _0x5c1aaf =
      _0xce2e14[_0x1e9902(0x2d5)](',')[_0x1e9902(0x232)] > 0x1
        ? _0xce2e14['split'](',')[0x1]
        : _0xce2e14;
  var _0x402c84 = Base64toBlob(_0x5c1aaf, 'image/png');
  try {
    typeof navigator[_0x1e9902(0x288)] !== _0x1e9902(0x26f) &&
      (await navigator[_0x1e9902(0x288)][_0x1e9902(0x289)]([
        new ClipboardItem({ 'image/png': _0x402c84 }),
      ]),
        showNotification(window[_0x1e9902(0x2df)][_0x1e9902(0x1f2)]));
  } catch (_0x5ca20f) {
    console[_0x1e9902(0x337)](_0x5ca20f);
  }
}
function showShareStep() {
  const _0x5bccef = _0x1e1855;
  $('.area-result-image')[_0x5bccef(0x215)]();
}
function resetAction() {
  initCanvas(), setZoomDefault(), setRotateDefault(), changeStep(0x1);
}
function scrollToShareArea() {
  const _0x526193 = _0x1e1855;
  document[_0x526193(0x306)]('event_share')[_0x526193(0x2bc)]();
}
function changeStep(_0x30a314) {
  const _0x16e317 = _0x1e1855;
  $(_0x16e317(0x320))[_0x16e317(0x333)](),
    $('.step-' + _0x30a314)[_0x16e317(0x215)](),
    (currentStep = _0x30a314),
    $('.area_frame')[_0x16e317(0x333)](),
    $('.area-profit')[_0x16e317(0x333)](),
    $(_0x16e317(0x2f7))[_0x16e317(0x333)]();
  const _0x4101d6 = document[_0x16e317(0x306)](_0x16e317(0x32b));
  editorContainer[_0x16e317(0x25f)][_0x16e317(0x261)] = 'none';
  switch (_0x30a314) {
    case 0x2:
      (editorContainer[_0x16e317(0x25f)][_0x16e317(0x261)] = ''),
        $(_0x16e317(0x246))['show'](),
        (_0x4101d6['style']['pointerEvents'] = _0x16e317(0x2d4));
      break;
    case 0x3:
      showDownloadStep();
      break;
    case 0x4:
      showShareStep();
      break;
    default:
      (_0x4101d6[_0x16e317(0x25f)][_0x16e317(0x261)] = _0x16e317(0x262)),
        $(_0x16e317(0x246))[_0x16e317(0x215)]();
      break;
  }
}
function initExtraFrames() {
  const _0x94a598 = _0x1e1855,
    _0x3789b0 = $(_0x94a598(0x233))[_0x94a598(0x232)],
    _0x32b72a = _0x3789b0 < 0x6 ? _0x3789b0 : Math[_0x94a598(0x2ad)](_0x3789b0 / 0x2);
  $(_0x94a598(0x233))[_0x94a598(0x284)](
    'width',
    _0x94a598(0x297) +
    0x64 / _0x32b72a +
    _0x94a598(0x2c5) +
    ((_0x32b72a - 0x1) * 0xa) / _0x32b72a +
    _0x94a598(0x1fb)
  ),
    $(_0x94a598(0x1c7))[_0x94a598(0x284)](
      _0x94a598(0x204),
      $(_0x94a598(0x327))[_0x94a598(0x281)](!![]) * _0x32b72a + 'px'
    ),
    $(_0x94a598(0x327))['on'](_0x94a598(0x255), (_0x498ac2) => {
      const _0x38f111 = _0x94a598;
      $(_0x38f111(0x327))['removeClass'](_0x38f111(0x2ec)),
        $(_0x498ac2[_0x38f111(0x258)])['addClass'](_0x38f111(0x2ec)),
        (currentFrameSrc = $(_0x498ac2[_0x38f111(0x258)])
        ['find'](_0x38f111(0x1c9))[0x0]
        [_0x38f111(0x2f1)](_0x38f111(0x252))),
        initCanvas();
    });
}
function processResizeScreen() {
  const _0x53e2a3 = _0x1e1855;
  var _0x5e8743 = $('.image-editor')[_0x53e2a3(0x204)]();
  _0x5e8743 <= originWidth
    ? ((screenRateScale = _0x5e8743 / originWidth),
      $('.area_frame')[_0x53e2a3(0x284)](_0x53e2a3(0x204), _0x5e8743),
      $(_0x53e2a3(0x2e0))[_0x53e2a3(0x284)](_0x53e2a3(0x204), _0x5e8743),
      $('.canvas-container')[_0x53e2a3(0x284)](_0x53e2a3(0x204), _0x5e8743))
    : ((screenRateScale = 0x1),
      $(_0x53e2a3(0x246))[_0x53e2a3(0x284)](_0x53e2a3(0x204), originWidth),
      $('.common-area')[_0x53e2a3(0x284)]('width', originWidth),
      $('.canvas-container')['css']('width', originWidth)),
    $(_0x53e2a3(0x221))['css'](_0x53e2a3(0x31f), screenRateScale * originHeight),
    $(_0x53e2a3(0x2e0))[_0x53e2a3(0x284)](_0x53e2a3(0x31f), screenRateScale * originHeight),
    $(_0x53e2a3(0x22c))[_0x53e2a3(0x284)](_0x53e2a3(0x31f), screenRateScale * originHeight),
    $(_0x53e2a3(0x2a1))[_0x53e2a3(0x284)](
      _0x53e2a3(0x2c9),
      $(_0x53e2a3(0x2ce))[_0x53e2a3(0x242)]() - $(_0x53e2a3(0x304))[_0x53e2a3(0x242)]()
    ),
    zEditorResize();
}
$(window)[_0x1e1855(0x28f)](function () {
  processResizeScreen();
});
function zEditorResize() {
  const _0x29dcc4 = _0x1e1855;
  if (!zCanvas) return;
  const _0x4f51d8 = editorContainer[_0x29dcc4(0x2a4)],
    _0x39bdc7 = editorContainer['offsetHeight'];
  zCanvas[_0x29dcc4(0x201)](_0x4f51d8), zCanvas['setHeight'](_0x39bdc7);
  const _0x2fa879 = zCanvas[_0x29dcc4(0x2b1)](),
    _0x538262 = GetScale();
  zCanvas[_0x29dcc4(0x33c)](fabric[_0x29dcc4(0x28c)][_0x29dcc4(0x273)]()),
    zCanvas[_0x29dcc4(0x2ab)](
      new fabric[_0x29dcc4(0x1cf)](_0x2fa879[_0x29dcc4(0x2ca)], _0x2fa879[_0x29dcc4(0x2a9)]),
      _0x538262
    ),
    SetEditorFromFrame();
}
function SetEditorFromFrame() {
  const _0x327447 = _0x1e1855;
  if (!frameObject) return;
  const _0x3e2831 = frameObject[_0x327447(0x2b4)](),
    _0x5089eb = zCanvas[_0x327447(0x1d0)];
  if (zCanvas['width'] === undefined || zCanvas[_0x327447(0x31f)] === undefined || !_0x5089eb)
    return;
  (_0x5089eb[0x4] = zCanvas[_0x327447(0x204)] / 0x2 - _0x3e2831['x'] * _0x5089eb[0x0]),
    (_0x5089eb[0x5] = zCanvas[_0x327447(0x31f)] / 0x2 - _0x3e2831['y'] * _0x5089eb[0x3]),
    zCanvas['setViewportTransform'](_0x5089eb),
    zCanvas['renderAll']();
}
function SetObjectCenter(_0x366019) {
  const _0x5499a6 = _0x1e1855,
    _0x3686d0 = frameObject[_0x5499a6(0x2b4)]();
  _0x366019[_0x5499a6(0x223)](_0x3686d0, _0x5499a6(0x30b), _0x5499a6(0x30b)),
    zCanvas[_0x5499a6(0x26c)]();
}
function SetObjectCenterX(_0x1af3ef) {
  const _0x5952cd = _0x1e1855,
    _0x310cc4 = frameObject['getCenterPoint']();
  (_0x310cc4['y'] = _0x1af3ef[_0x5952cd(0x2a9)]),
    _0x1af3ef[_0x5952cd(0x223)](_0x310cc4, _0x5952cd(0x30b), _0x5952cd(0x30b)),
    zCanvas[_0x5952cd(0x26c)]();
}
function SetObjectCenterY(_0x52af71) {
  const _0x3ebc3c = _0x1e1855,
    _0x257c3b = frameObject['getCenterPoint']();
  (_0x257c3b['x'] = _0x52af71[_0x3ebc3c(0x2ca)]),
    _0x52af71[_0x3ebc3c(0x223)](_0x257c3b, _0x3ebc3c(0x30b), _0x3ebc3c(0x30b)),
    zCanvas[_0x3ebc3c(0x26c)]();
}
function GetScale() {
  const _0xa8e7bd = _0x1e1855,
    _0x5f02a6 = editorContainer['offsetWidth'],
    _0x41e855 = editorContainer[_0xa8e7bd(0x1fe)];
  if (_0x41e855 == 0x0) return 0x1;
  if (_0x5f02a6 / _0x41e855 < originWidth / originHeight) return _0x5f02a6 / originWidth;
  return _0x41e855 / originHeight;
}
function setupControls() {
  const _0xe4a551 = _0x1e1855;
  fabric[_0xe4a551(0x1dd)]['prototype'][_0xe4a551(0x2bb)]({
    cornerStyle: _0xe4a551(0x2c2),
    cornerColor: _0xe4a551(0x1f1),
    cornerStrokeColor: MAIN_COLOR,
    cornerSize: 0x18,
    borderColor: '#333333',
    borderScaleFactor: 0x4,
    transparentCorners: ![],
  }),
    (editorContainer[_0xe4a551(0x25f)][_0xe4a551(0x261)] = _0xe4a551(0x262)),
    zCanvas['on']({
      'object:moving': function () {
        const _0x420152 = _0xe4a551,
          _0x6dcdd6 = zCanvas[_0x420152(0x302)]();
        _0x6dcdd6['type'] == _0x420152(0x285) &&
          frameObject[_0x420152(0x2bb)](_0x420152(0x259), 0.7);
      },
      'object:modified': function () {
        const _0x4be4e2 = _0xe4a551;
        frameObject[_0x4be4e2(0x2bb)]('opacity', 0x1);
      },
      'selection:created': function (_0xadef59) {
        const _0x496e92 = _0xe4a551;
        objectSelected(_0xadef59[_0x496e92(0x21c)]);
      },
      'selection:updated': function (_0x5ecb92) {
        const _0x2faa1a = _0xe4a551;
        Coloris[_0x2faa1a(0x299)](), objectSelected(_0x5ecb92[_0x2faa1a(0x21c)]);
      },
      'selection:cleared': function () {
        selectionCleared();
      },
    }),
    Coloris({
      el: _0xe4a551(0x2f4),
      theme: _0xe4a551(0x1db),
      focusInput: ![],
      closeButton: !![],
      clearButton: !![],
      onClear: () => { },
      closeLabel: 'OK',
    }),
    Coloris[_0xe4a551(0x31d)]('.text-color-input', {
      onChange: (_0x380c13) => {
        changeTextColor(_0x380c13);
      },
      onClose: (_0x414fed) => {
        changeTextColor(_0x414fed);
      },
    }),
    Coloris[_0xe4a551(0x31d)](_0xe4a551(0x2d7), {
      onChange: (_0x14ae78) => {
        changeBackgroundColor(_0x14ae78);
      },
      onClose: (_0x1d0077) => {
        changeBackgroundColor(_0x1d0077);
      },
    }),
    Coloris['setInstance'](_0xe4a551(0x21f), {
      onChange: (_0x1fe989) => {
        changeStrokeColor(_0x1fe989);
      },
      onClose: (_0x8bd47d) => {
        changeStrokeColor(_0x8bd47d);
      },
    }),
    Coloris[_0xe4a551(0x31d)]('.shadow-color-input', {
      onChange: (_0x2a74a6) => {
        changeShadow({ color: _0x2a74a6 });
      },
      onClose: (_0x29456f) => {
        changeShadow({ color: _0x29456f });
      },
    }),
    $(_0xe4a551(0x1c5))['on'](_0xe4a551(0x2fd), (_0x50f319) => {
      const _0x902966 = _0xe4a551;
      changeFontSize(_0x50f319[_0x902966(0x258)][_0x902966(0x2d0)]);
    }),
    [0x14, 0x24, 0x32, 0x3e, 0x4e, 0x56, 0x5c, 0x78, 0x94, 0xb4, 0xdc][_0xe4a551(0x20f)](
      (_0x530589) => {
        const _0x1343de = _0xe4a551;
        $(_0x1343de(0x2fa))['append'](_0x1343de(0x29e) + _0x530589 + _0x1343de(0x1f9));
      }
    ),
    $(_0xe4a551(0x21e))['on'](_0xe4a551(0x255), (_0x373d58) => {
      const _0x29235e = _0xe4a551,
        _0x2377ec = parseInt(_0x373d58[_0x29235e(0x258)][_0x29235e(0x279)], 0xa);
      $(_0x29235e(0x1c5))[_0x29235e(0x213)](_0x2377ec), changeFontSize(_0x2377ec);
    }),
    $(_0xe4a551(0x2c6))['on'](_0xe4a551(0x255), (_0xa6fb7e) => {
      const _0x1ff52b = _0xe4a551,
        _0x3b730f = zCanvas[_0x1ff52b(0x302)]();
      if (_0x3b730f && _0x3b730f['type'] === 'i-text') {
        _0xa6fb7e[_0x1ff52b(0x258)][_0x1ff52b(0x22e)][_0x1ff52b(0x334)](_0x1ff52b(0x1c8));
        var _0x231e0b = _0x3b730f[_0x1ff52b(0x336)];
        _0x3b730f[_0x1ff52b(0x2bb)](
          'fontWeight',
          _0x231e0b == _0x1ff52b(0x1e5) ? _0x1ff52b(0x275) : _0x1ff52b(0x1e5)
        ),
          zCanvas[_0x1ff52b(0x326)]();
      }
    }),
    $('.btn-italic')['on'](_0xe4a551(0x255), (_0x2e43a2) => {
      const _0x4395c1 = _0xe4a551,
        _0x9df51d = zCanvas['getActiveObject']();
      if (_0x9df51d && _0x9df51d[_0x4395c1(0x225)] === _0x4395c1(0x2ba)) {
        _0x2e43a2[_0x4395c1(0x258)][_0x4395c1(0x22e)][_0x4395c1(0x334)](_0x4395c1(0x1c8));
        var _0x1395fe = _0x9df51d[_0x4395c1(0x33b)];
        _0x9df51d[_0x4395c1(0x2bb)](
          'fontStyle',
          _0x1395fe == _0x4395c1(0x292) ? _0x4395c1(0x275) : 'italic'
        ),
          zCanvas[_0x4395c1(0x326)]();
      }
    }),
    $(_0xe4a551(0x1d7))['on']('click', (_0x2f5882) => {
      const _0x45ce0d = _0xe4a551,
        _0x5af02d = zCanvas[_0x45ce0d(0x302)]();
      if (_0x5af02d && _0x5af02d[_0x45ce0d(0x225)] === 'i-text') {
        _0x2f5882[_0x45ce0d(0x258)]['classList']['toggle'](_0x45ce0d(0x1c8));
        var _0xcf7b67 = _0x5af02d['underline'];
        _0x5af02d[_0x45ce0d(0x2bb)](_0x45ce0d(0x308), !_0xcf7b67), zCanvas[_0x45ce0d(0x326)]();
      }
    }),
    $(_0xe4a551(0x2ae))['on'](_0xe4a551(0x255), (_0x358faa) => {
      const _0x5c8ab1 = _0xe4a551,
        _0x48eaff = zCanvas[_0x5c8ab1(0x302)]();
      if (!_0x48eaff) return;
      _0x358faa[_0x5c8ab1(0x309)]();
      const _0x2d7368 = _0x358faa[_0x5c8ab1(0x258)][_0x5c8ab1(0x2f1)]('data-key');
      $('.property-item-detail')[_0x5c8ab1(0x333)](), Coloris['close']();
      switch (_0x2d7368) {
        case _0x5c8ab1(0x30e):
          Coloris[_0x5c8ab1(0x239)](_0x5c8ab1(0x300));
          break;
        case 'background_color':
          Coloris[_0x5c8ab1(0x239)](_0x5c8ab1(0x2d7));
          break;
        case 'font':
        case _0x5c8ab1(0x2d6):
        case _0x5c8ab1(0x2cd):
        case _0x5c8ab1(0x2f3):
        case 'shadow':
        case 'curve':
          showPropertyArea(_0x2d7368);
          break;
        case _0x5c8ab1(0x1fa):
          zCanvas[_0x5c8ab1(0x22a)](_0x48eaff);
          break;
        default:
          break;
      }
    });
}
function showPropertyArea(_0x1e6678) {
  const _0x9587ed = _0x1e1855;
  if ($(_0x9587ed(0x247) + _0x1e6678)['is'](_0x9587ed(0x30f))) {
    $(_0x9587ed(0x21a))['collapse'](_0x9587ed(0x333));
    return;
  }
  $('.component-property')[_0x9587ed(0x215)](),
    $('.component-property-item')[_0x9587ed(0x333)](),
    $(_0x9587ed(0x247) + _0x1e6678)[_0x9587ed(0x215)](),
    $(_0x9587ed(0x21a))[_0x9587ed(0x1ec)](_0x9587ed(0x215));
}
function changeTextColor(_0x3f7d53) {
  const _0x2e04e9 = _0x1e1855,
    _0x108472 = zCanvas[_0x2e04e9(0x315)]();
  _0x108472 &&
    Array[_0x2e04e9(0x2f8)](_0x108472) &&
    (_0x108472[_0x2e04e9(0x20f)]((_0x3cdf4a) => {
      const _0x122f87 = _0x2e04e9;
      _0x3cdf4a[_0x122f87(0x225)] === _0x122f87(0x2ba) &&
        _0x3cdf4a[_0x122f87(0x2bb)](_0x122f87(0x305), _0x3f7d53);
    }),
      zCanvas['requestRenderAll']());
}
function changeBackgroundColor(_0x4d14cd) {
  const _0x1b1c31 = zCanvas['getActiveObject']();
  _0x1b1c31 && (_0x1b1c31['set']('backgroundColor', _0x4d14cd), zCanvas['requestRenderAll']());
}
function changeFont(_0x1fd8a5) {
  const _0x38f615 = _0x1e1855,
    _0x1c67d3 = zCanvas[_0x38f615(0x302)]();
  _0x1c67d3 &&
    ($('.current-font-div')[_0x38f615(0x33a)](_0x1fd8a5),
      _0x1c67d3[_0x38f615(0x2bb)]('fontFamily', _0x1fd8a5),
      zCanvas[_0x38f615(0x326)]());
}
function changeFontSize(_0x4b9834) {
  const _0x215394 = _0x1e1855,
    _0xec078c = zCanvas[_0x215394(0x302)]();
  _0xec078c && (_0xec078c['set'](_0x215394(0x266), _0x4b9834), zCanvas[_0x215394(0x326)]());
}
function changeStrokeColor(_0x3d4cc3) {
  const _0x2805de = _0x1e1855,
    _0x35f9ab = zCanvas[_0x2805de(0x302)]();
  _0x35f9ab &&
    _0x35f9ab[_0x2805de(0x225)] === 'i-text' &&
    (_0x35f9ab[_0x2805de(0x2bb)]('stroke', _0x3d4cc3), zCanvas[_0x2805de(0x326)]());
}
function changeLineHeight(_0x39de59) {
  const _0x410a22 = _0x1e1855,
    _0x58c862 = zCanvas['getActiveObject']();
  _0x58c862 &&
    _0x58c862[_0x410a22(0x225)] === 'i-text' &&
    (_0x58c862[_0x410a22(0x2bb)](_0x410a22(0x328), Math['round'](_0x39de59 * 0xa) / 0xa),
      zCanvas[_0x410a22(0x326)]());
}
function changeLetterSpacing(_0x2e4aa9) {
  const _0x2226d4 = _0x1e1855,
    _0x1f38c4 = zCanvas[_0x2226d4(0x302)]();
  _0x1f38c4 &&
    _0x1f38c4['type'] === _0x2226d4(0x2ba) &&
    (_0x1f38c4['set']('charSpacing', Math['round'](_0x2e4aa9 * 0xa) / 0xa),
      zCanvas['requestRenderAll']());
}
function changeObjectRotate(_0x1b677e) {
  const _0x1b5052 = _0x1e1855,
    _0x2dc523 = zCanvas[_0x1b5052(0x302)]();
  _0x2dc523 &&
    _0x2dc523[_0x1b5052(0x225)] === 'i-text' &&
    (_0x2dc523[_0x1b5052(0x27a)](_0x1b677e), zCanvas[_0x1b5052(0x326)]());
}
function changeAlignment(_0x1ee26d) {
  const _0x41925e = _0x1e1855;
  if (
    ![_0x41925e(0x2ca), _0x41925e(0x30b), _0x41925e(0x23b), _0x41925e(0x1d6)][_0x41925e(0x216)](
      _0x1ee26d
    )
  )
    return;
  const _0x20c3aa = zCanvas[_0x41925e(0x302)]();
  _0x20c3aa &&
    _0x20c3aa[_0x41925e(0x225)] === 'i-text' &&
    ($(_0x41925e(0x222))['removeClass']('btn-active'),
      $(_0x41925e(0x20d) + _0x1ee26d)[_0x41925e(0x1c1)](_0x41925e(0x1c8)),
      _0x20c3aa['set']('textAlign', _0x1ee26d),
      zCanvas[_0x41925e(0x326)]());
}
function changeObjectPosition(_0x41eb6e) {
  const _0x5edb73 = _0x1e1855;
  if (![_0x5edb73(0x30b), 'x', 'y']['includes'](_0x41eb6e)) return;
  const _0x3499e4 = zCanvas[_0x5edb73(0x302)]();
  _0x3499e4 &&
    _0x3499e4[_0x5edb73(0x225)] === _0x5edb73(0x2ba) &&
    (_0x41eb6e == 'center' && SetObjectCenter(_0x3499e4),
      _0x41eb6e == 'x' && SetObjectCenterX(_0x3499e4),
      _0x41eb6e == 'y' && SetObjectCenterY(_0x3499e4),
      zCanvas[_0x5edb73(0x326)]());
}
function changeStrokeSize(_0x16b220) {
  const _0x5d9621 = _0x1e1855;
  let _0x20c4a0 = _0x16b220;
  _0x20c4a0 < 0x0 && (_0x20c4a0 = 0x0);
  const _0x4073f0 = zCanvas['getActiveObject']();
  _0x4073f0 &&
    _0x4073f0[_0x5d9621(0x225)] === _0x5d9621(0x2ba) &&
    (_0x4073f0[_0x5d9621(0x2bb)](_0x5d9621(0x253), parseInt(_0x20c4a0, 0xa)),
      zCanvas[_0x5d9621(0x326)]());
}
function changeShadow(_0x275e95) {
  const _0x4b1ac5 = _0x1e1855,
    _0x180d7d = zCanvas['getActiveObject']();
  if (_0x180d7d && _0x180d7d[_0x4b1ac5(0x225)] === _0x4b1ac5(0x2ba)) {
    let _0x1b9089 = { ..._0x180d7d['shadow'], ..._0x275e95 };
    _0x180d7d && _0x180d7d['set'](_0x4b1ac5(0x210), new fabric['Shadow'](_0x1b9089)),
      zCanvas[_0x4b1ac5(0x326)]();
  }
}
function changeDistanceShadow() {
  const _0x28c97d = _0x1e1855,
    _0x23f5b1 = parseInt(
      shadowDistanceSizeInputObj[_0x28c97d(0x318)](_0x28c97d(0x226))[_0x28c97d(0x212)](),
      0xa
    ),
    _0x5c463b = parseInt(shadowPerspectiveSizeInputObj['data']('slider')[_0x28c97d(0x212)](), 0xa),
    _0x3ea4b9 = _0x23f5b1 * Math['cos'](_0x5c463b * (Math['PI'] / 0xb4)),
    _0x58388f = _0x23f5b1 * Math[_0x28c97d(0x2b8)](_0x5c463b * (Math['PI'] / 0xb4));
  changeShadow({ offsetX: _0x3ea4b9, offsetY: _0x58388f });
}
function resetCurve() {
  const _0xfa2e96 = _0x1e1855,
    _0x189696 = zCanvas['getActiveObject']();
  if (!_0x189696 || _0x189696[_0xfa2e96(0x225)] !== _0xfa2e96(0x2ba)) return;
  if ($('.btn-curve-type-none')['hasClass'](_0xfa2e96(0x1c8))) return;
  $('.btn-curve-type')[_0xfa2e96(0x1ff)](_0xfa2e96(0x1c8)),
    $('.btn-curve-type-none')[_0xfa2e96(0x1c1)]('btn-active'),
    $('.property-obj-curve')[_0xfa2e96(0x333)](),
    _0x189696['set']({ path: null }),
    (_0x189696['curveRadius'] = 0x0),
    (_0x189696['curveDirect'] = 0x0),
    zCanvas[_0xfa2e96(0x326)]();
}
function onDownwardCurve() {
  const _0x4e6f82 = _0x1e1855,
    _0x8eaea0 = zCanvas[_0x4e6f82(0x302)]();
  if (!_0x8eaea0 || _0x8eaea0[_0x4e6f82(0x225)] !== _0x4e6f82(0x2ba)) return;
  if ($(_0x4e6f82(0x1bb))['hasClass']('btn-active')) return;
  $(_0x4e6f82(0x29c))['removeClass'](_0x4e6f82(0x1c8)),
    $(_0x4e6f82(0x1bb))[_0x4e6f82(0x1c1)]('btn-active'),
    $(_0x4e6f82(0x28d))['show'](),
    (_0x8eaea0[_0x4e6f82(0x2f9)] = -0x1),
    curveAngleSizeInputObj['slider'](_0x4e6f82(0x32f), 0x200, !![], !![]);
}
function onUpwardCurve() {
  const _0x122d35 = _0x1e1855,
    _0x8ba995 = zCanvas[_0x122d35(0x302)]();
  if (!_0x8ba995 || _0x8ba995[_0x122d35(0x225)] !== _0x122d35(0x2ba)) return;
  if ($(_0x122d35(0x1c0))[_0x122d35(0x286)]('btn-active')) return;
  $(_0x122d35(0x29c))[_0x122d35(0x1ff)](_0x122d35(0x1c8)),
    $(_0x122d35(0x1c0))[_0x122d35(0x1c1)]('btn-active'),
    $('.property-obj-curve')[_0x122d35(0x215)](),
    (_0x8ba995['curveDirect'] = 0x1),
    curveAngleSizeInputObj[_0x122d35(0x226)](_0x122d35(0x32f), 0x200, !![], !![]);
}
function changeCurve(_0x529808) {
  const _0x31f9ec = _0x1e1855,
    _0x3de43a = zCanvas['getActiveObject']();
  if (!_0x3de43a || _0x3de43a[_0x31f9ec(0x225)] !== _0x31f9ec(0x2ba)) return;
  _0x3de43a[_0x31f9ec(0x2bb)]({ path: null }),
    (_0x3de43a['curveRadius'] = parseInt(_0x529808, 0xa));
  if (_0x529808 == 0x0) {
    zCanvas[_0x31f9ec(0x326)]();
    return;
  }
  let _0x3400a2 = parseInt(_0x3de43a[_0x31f9ec(0x2f9)], 0xa),
    _0x5c7ce4 = _0x529808;
  var _0x5d64e7 = 0x0,
    _0x27e3c1 = 0x0;
  let _0x24a18d = _0x3400a2 * _0x5c7ce4 * 0x2;
  var _0x246a4f = 0x0,
    _0x2ece13 =
      'M\x20' +
      _0x5d64e7 +
      ',' +
      _0x27e3c1 +
      _0x31f9ec(0x1d8) +
      _0x5c7ce4 +
      '\x20' +
      _0x5c7ce4 +
      _0x31f9ec(0x23e) +
      _0x24a18d +
      ',' +
      _0x246a4f,
    _0x143342 = new fabric[_0x31f9ec(0x250)](_0x2ece13, {
      fill: '',
      strokeWidth: 0x1,
      visible: ![],
      isNotVisible: function () {
        return !![];
      },
    });
  _0x3de43a[_0x31f9ec(0x2bb)]({ textAlign: _0x31f9ec(0x30b), path: _0x143342 }),
    zCanvas[_0x31f9ec(0x326)]();
}
function objectSelected(_0xcc9334) {
  const _0x14d730 = _0x1e1855;
  if (!_0xcc9334 || _0xcc9334[_0x14d730(0x232)] == 0x0) return;
  if (_0xcc9334[_0x14d730(0x232)] > 0x1) return;
  zEditorResize();
  const _0x309d53 = _0xcc9334[0x0];
  $(_0x14d730(0x2fc))[_0x14d730(0x333)]();
  switch (_0x309d53[_0x14d730(0x225)]) {
    case _0x14d730(0x2ba): {
      $(_0x14d730(0x1c5))[_0x14d730(0x213)](_0x309d53[_0x14d730(0x266)]),
        $(_0x14d730(0x26e))[_0x14d730(0x1ff)](_0x14d730(0x1c8));
      _0x309d53[_0x14d730(0x336)] == _0x14d730(0x1e5) &&
        $(_0x14d730(0x2c6))[_0x14d730(0x1c1)]('btn-active');
      _0x309d53[_0x14d730(0x33b)] == 'italic' &&
        $(_0x14d730(0x277))[_0x14d730(0x1c1)](_0x14d730(0x1c8));
      _0x309d53[_0x14d730(0x308)] && $(_0x14d730(0x1d7))[_0x14d730(0x1c1)](_0x14d730(0x1c8));
      _0x309d53?.[_0x14d730(0x1cb)] &&
        ($(_0x14d730(0x222))['removeClass'](_0x14d730(0x1c8)),
          $(_0x14d730(0x20d) + _0x309d53[_0x14d730(0x1cb)])['addClass'](_0x14d730(0x1c8)));
      letterSpacingInputObj[_0x14d730(0x226)](_0x14d730(0x32f), _0x309d53['charSpacing']),
        lineHeightInputObj[_0x14d730(0x226)]('setValue', _0x309d53[_0x14d730(0x328)]),
        objRotateInputObj[_0x14d730(0x226)](_0x14d730(0x32f), _0x309d53['angle']),
        $(_0x14d730(0x280))[_0x14d730(0x33a)](_0x309d53[_0x14d730(0x2c3)]),
        Coloris['setColor'](_0x14d730(0x300), _0x309d53[_0x14d730(0x305)]),
        Coloris[_0x14d730(0x332)](_0x14d730(0x2d7), _0x309d53[_0x14d730(0x29f)]),
        Coloris[_0x14d730(0x332)]('.stroke-color-input', _0x309d53['stroke']),
        strokeSizeInputObj[_0x14d730(0x226)]('setValue', _0x309d53[_0x14d730(0x253)]),
        Coloris[_0x14d730(0x332)](
          _0x14d730(0x1cd),
          _0x309d53[_0x14d730(0x210)]?.[_0x14d730(0x2e7)] || _0x14d730(0x2d2)
        ),
        shadowBlurSizeInputObj[_0x14d730(0x226)](
          _0x14d730(0x32f),
          _0x309d53['shadow']?.[_0x14d730(0x1d2)] || 0x0
        );
      const _0x457858 = _0x309d53[_0x14d730(0x210)]?.['offsetX'] || 0x0,
        _0x2def54 = _0x309d53['shadow']?.[_0x14d730(0x2bf)] || 0x0;
      var _0x59c1ec = 0x0,
        _0x12f495 = 0x0;
      _0x2def54 == 0x0
        ? ((_0x12f495 = Math['abs'](_0x457858)), _0x457858 < 0x0 && (_0x59c1ec = 0xb4))
        : _0x457858 == 0x0
          ? ((_0x12f495 = Math[_0x14d730(0x254)](_0x2def54)),
            _0x2def54 > 0x0 ? (_0x59c1ec = 0x5a) : (_0x59c1ec = -0x5a))
          : ((_0x59c1ec = 0x5a - (Math[_0x14d730(0x26b)](_0x457858, _0x2def54) * 0xb4) / Math['PI']),
            (_0x12f495 = Math['hypot'](_0x457858, _0x2def54)));
      _0x59c1ec < -0xb4 && (_0x59c1ec += 0x168);
      _0x59c1ec > 0xb4 && (_0x59c1ec -= 0x168);
      shadowDistanceSizeInputObj[_0x14d730(0x226)](_0x14d730(0x32f), parseInt(_0x12f495, 0xa)),
        shadowPerspectiveSizeInputObj[_0x14d730(0x226)](_0x14d730(0x32f), parseInt(_0x59c1ec, 0xa)),
        curveAngleSizeInputObj['slider'](
          _0x14d730(0x32f),
          parseInt(_0x309d53?.[_0x14d730(0x25a)] || 0x0, 0xa)
        );
      const _0x2e6288 = _0x309d53?.[_0x14d730(0x2f9)] || 0x0;
      $('.btn-curve-type')[_0x14d730(0x1ff)](_0x14d730(0x1c8)),
        $(_0x14d730(0x28d))[_0x14d730(0x215)]();
      switch (_0x2e6288) {
        case 0x1:
          $(_0x14d730(0x1c0))['addClass'](_0x14d730(0x1c8));
          break;
        case 0x2:
          $('.btn-curve-type-down')['addClass'](_0x14d730(0x1c8));
          break;
        default:
          $('.property-obj-curve')[_0x14d730(0x333)](),
            $(_0x14d730(0x236))[_0x14d730(0x1c1)](_0x14d730(0x1c8));
          break;
      }
      $(_0x14d730(0x2a7))[_0x14d730(0x215)]();
      break;
    }
    default:
      $(_0x14d730(0x28b))['show']();
      break;
  }
}
function selectionCleared() {
  const _0xd29813 = _0x1e1855;
  $('.frame-property-area')[_0xd29813(0x333)](),
    $(_0xd29813(0x28b))['show'](),
    Coloris[_0xd29813(0x299)]();
}
function initWebViewInfo() {
  const _0x23956c = _0x1e1855;
  var _0x2a3295 = window[_0x23956c(0x207)][_0x23956c(0x31b)],
    _0x450c18 = bowser[_0x23956c(0x2b5)](_0x2a3295);
  browserInfo = _0x450c18['parsedResult'];
  if (browserInfo?.['os']?.['name']?.[_0x23956c(0x2c0)]() == _0x23956c(0x307)) {
    $(_0x23956c(0x20b))[_0x23956c(0x215)]();
    var _0x521091 = /safari/[_0x23956c(0x2b9)](_0x2a3295[_0x23956c(0x2c0)]());
    !_0x521091 && (isIosWv = !![]);
  }
  browserInfo?.[_0x23956c(0x2dc)]?.['type']?.[_0x23956c(0x2c0)]() == _0x23956c(0x283) &&
    $(_0x23956c(0x27e))[_0x23956c(0x333)]();
}
function shareFB() {
  const _0x3b6c82 = _0x1e1855,
    _0x3a96a9 = _0x3b6c82(0x2e3) + currentEventUrl;
  var _0x2fce90 = $('<a\x20/>', { href: _0x3a96a9, target: _0x3b6c82(0x2a5) })
  [_0x3b6c82(0x333)]()
  [_0x3b6c82(0x314)](_0x3b6c82(0x321));
  _0x2fce90[0x0][_0x3b6c82(0x255)](), _0x2fce90[_0x3b6c82(0x22a)]();
}
function shareTwitter() {
  const _0x55959b = _0x1e1855,
    _0x5dff5f = _0x55959b(0x24a) + currentEventUrl;
  var _0xdea29d = $('<a\x20/>', { href: _0x5dff5f, target: _0x55959b(0x2a5) })
  [_0x55959b(0x333)]()
  ['appendTo'](_0x55959b(0x321));
  _0xdea29d[0x0]['click'](), _0xdea29d[_0x55959b(0x22a)]();
}
function shareTelegram() {
  const _0x2be57b = _0x1e1855,
    _0x32df12 =
      'https://telegram.me/share/url?url=' +
      currentEventUrl +
      _0x2be57b(0x1de) +
      $(_0x2be57b(0x267))['data'](_0x2be57b(0x28e));
  var _0x3bb98c = $('<a\x20/>', { href: _0x32df12, target: _0x2be57b(0x2a5) })
  ['hide']()
  ['appendTo'](_0x2be57b(0x321));
  _0x3bb98c[0x0][_0x2be57b(0x255)](), _0x3bb98c[_0x2be57b(0x22a)]();
}
function shareZalo() {
  const _0x24bb62 = _0x1e1855;
  window[_0x24bb62(0x303)] != '' &&
    gtag(_0x24bb62(0x1ba), _0x24bb62(0x2de), {
      item_id: $('.f-object-data')['data']('id'),
      item_name: $(_0x24bb62(0x267))['data'](_0x24bb62(0x28e)),
      item_slug: $(_0x24bb62(0x267))[_0x24bb62(0x318)](_0x24bb62(0x214)),
    }),
    redirectLink(currentEventUrl['replace'](_0x24bb62(0x1d3), '/z/'), 0x3e8);
}
function openTelegramMiniApp() {
  const _0x48444b = _0x1e1855;
  window[_0x48444b(0x303)] != '' &&
    gtag(_0x48444b(0x1ba), _0x48444b(0x2cb), {
      item_id: $(_0x48444b(0x267))[_0x48444b(0x318)]('id'),
      item_name: $(_0x48444b(0x267))[_0x48444b(0x318)](_0x48444b(0x28e)),
      item_slug: $(_0x48444b(0x267))['data'](_0x48444b(0x214)),
    }),
    redirectLink(URL_ROOT + '/t/' + $(_0x48444b(0x267))['data'](_0x48444b(0x214)), 0x3e8);
}
function redirectLink(_0x3c5fe6, _0x35ed5a) {
  setTimeout(() => {
    const _0x1c18f6 = _0x279b;
    var _0x25d9c1 = $('<a\x20/>', { href: _0x3c5fe6 })
    [_0x1c18f6(0x333)]()
    [_0x1c18f6(0x314)](_0x1c18f6(0x321));
    _0x25d9c1[0x0]['click'](), _0x25d9c1['remove']();
  }, _0x35ed5a);
}
function initQRCode() {
  const _0x1ce465 = _0x1e1855;
  $(_0x1ce465(0x1e8))[_0x1ce465(0x27b)]({
    text: $(_0x1ce465(0x205))['val'](),
    render: 'image',
    size: 0x7d0,
  });
}
function downloadQRCode() {
  const _0x48fdad = _0x1e1855,
    _0x595247 = $(_0x48fdad(0x32a))[_0x48fdad(0x2ef)](_0x48fdad(0x2c7));
  var _0x19a519 = $(_0x48fdad(0x313), {
    href: _0x595247,
    download: new Date()[_0x48fdad(0x2b6)]() + _0x48fdad(0x319),
  })
  [_0x48fdad(0x333)]()
  [_0x48fdad(0x314)](_0x48fdad(0x321));
  _0x19a519[0x0][_0x48fdad(0x255)](),
    _0x19a519['remove'](),
    window[_0x48fdad(0x303)] != '' &&
    gtag(_0x48fdad(0x1ba), _0x48fdad(0x21b), {
      item_id: $(_0x48fdad(0x267))[_0x48fdad(0x318)]('id'),
      item_name: $(_0x48fdad(0x267))[_0x48fdad(0x318)](_0x48fdad(0x28e)),
      item_slug: $(_0x48fdad(0x267))[_0x48fdad(0x318)]('slug'),
    });
}
function SendTracking(_0x1b4c30) {
  console.log("Oke");
}
function HideSettingButton() {
  const _0x2d1ce1 = _0x1e1855;
  $(_0x2d1ce1(0x228))[_0x2d1ce1(0x333)]();
}
function onShowFrameShareModal() {
  const _0x4786f8 = _0x1e1855,
    _0x454551 = $(_0x4786f8(0x2af));
  _0x454551[_0x4786f8(0x24c)]('show');
}
function OnShowBatchArea() {
  const _0x1fa3ab = _0x1e1855;
  !$(_0x1fa3ab(0x25c))[_0x1fa3ab(0x286)](_0x1fa3ab(0x1e9)) &&
    ($('.frame-workspace')[_0x1fa3ab(0x1c1)]('expand'), processResizeScreen()),
    window[_0x1fa3ab(0x303)] != '' &&
    gtag(_0x1fa3ab(0x1ba), 'frame_batch', {
      item_id: $(_0x1fa3ab(0x267))[_0x1fa3ab(0x318)]('id'),
      item_name: $(_0x1fa3ab(0x267))[_0x1fa3ab(0x318)](_0x1fa3ab(0x28e)),
      item_slug: $(_0x1fa3ab(0x267))[_0x1fa3ab(0x318)](_0x1fa3ab(0x214)),
    });
}
function onChooseBatchPhoto() {
  const _0x1f088d = _0x1e1855;
  if (arrBatchFile['length'] >= MAX_NUMBER_OF_FRAME) {
    showNotification(frameTrans[_0x1f088d(0x219)]);
    return;
  }
  $(_0x1f088d(0x2c8))['trigger'](_0x1f088d(0x255)),
    $('.batch-frames-introduction')[_0x1f088d(0x333)]();
}
async function onProcessBatchFile(_0x25ee58) {
  const _0x11a5b8 = _0x1e1855;
  if (arrBatchFile['length'] >= MAX_NUMBER_OF_FRAME) return;
  const _0x5828a2 = _0x25ee58[_0x11a5b8(0x2ff)]['type'];
  var _0x2e929f = new Blob([new Uint8Array(_0x25ee58[_0x11a5b8(0x1bc)])], { type: _0x5828a2 });
  const _0x44382b = {
    id: RandomString(),
    url: window['URL'][_0x11a5b8(0x209)](_0x2e929f),
    target: _0x25ee58,
    options: { originX: _0x11a5b8(0x30b), originY: _0x11a5b8(0x30b) },
  },
    _0x780a73 = await drawOnTempCanvas(_0x44382b[_0x11a5b8(0x2e4)], _0x44382b[_0x11a5b8(0x2e6)]);
  if (!_0x780a73) return;
  (_0x44382b[_0x11a5b8(0x29b)] = _0x780a73),
    (_0x44382b['resultArrayBuffer'] = DataUrlToArrayBuffer(_0x780a73)),
    arrBatchFile[_0x11a5b8(0x232)] < MAX_NUMBER_OF_FRAME &&
    (renderHtmlBatchWithFrame(_0x44382b),
      arrBatchFile[_0x11a5b8(0x241)](_0x44382b),
      renderBatchItemTotal());
}
function drawOnTempCanvas(_0x5f3f24, _0x532741) {
  return new Promise(function (_0xdc7c9b, _0x359908) {
    const _0x1aeea1 = _0x279b;
    (!imageFrame || arrBatchFile[_0x1aeea1(0x232)] >= MAX_NUMBER_OF_FRAME) && _0x359908(![]);
    const _0xde13d2 = imageFrame[_0x1aeea1(0x200)],
      _0x4bac8f = imageFrame[_0x1aeea1(0x244)],
      _0x3a36de = new fabric['Canvas'](null, { width: _0xde13d2, height: _0x4bac8f });
    _0x3a36de[_0x1aeea1(0x218)](_0x1aeea1(0x1e1));
    var _0x2a0f87 = new Image();
    (_0x2a0f87[_0x1aeea1(0x2c7)] = _0x5f3f24),
      (_0x2a0f87[_0x1aeea1(0x2a8)] = function () {
        const _0x575ec7 = _0x1aeea1,
          _0x528569 = this['width'],
          _0x2e486f = this['height'];
        let _0x30986 = 0x1;
        _0x528569 > _0xde13d2 &&
          _0x2e486f > _0x4bac8f &&
          (_0x528569 > _0x2e486f
            ? (_0x30986 = _0x4bac8f / _0x2e486f)
            : (_0x30986 = _0xde13d2 / _0x528569),
            (_0x30986 = Math[_0x575ec7(0x2ad)]((_0x30986 + Number[_0x575ec7(0x2be)]) * 0x64) / 0x64));
        const _0x4ca4e8 = new fabric['Image'](_0x2a0f87);
        _0x4ca4e8['set']({
          ..._0x532741,
          left: _0xde13d2 / 0x2,
          top: _0x4bac8f / 0x2,
          scaleX: _0x30986,
          scaleY: _0x30986,
        }),
          _0x3a36de[_0x575ec7(0x269)](_0x4ca4e8);
        const _0x438210 = new fabric[_0x575ec7(0x2e1)](imageFrame);
        _0x3a36de[_0x575ec7(0x269)](_0x438210), _0x3a36de['renderAll']();
        const _0x41015a = _0x3a36de[_0x575ec7(0x2b2)]({ ...optResult });
        _0xdc7c9b(_0x41015a);
      });
  });
}
function renderHtmlBatchWithFrame(_0x25cbce) {
  const _0x2c01dd = _0x1e1855;
  var _0x1e6cd2 = $(_0x2c01dd(0x1f0))[_0x2c01dd(0x1e3)]();
  _0x1e6cd2['removeClass'](_0x2c01dd(0x272)),
    _0x1e6cd2[_0x2c01dd(0x1c1)](_0x2c01dd(0x220) + _0x25cbce['id']),
    _0x1e6cd2[_0x2c01dd(0x2ed)](_0x2c01dd(0x238))[_0x2c01dd(0x2ef)]('src', _0x25cbce['resultUrl']),
    _0x1e6cd2[_0x2c01dd(0x2ed)](_0x2c01dd(0x217))['on']('click', () => {
      const _0x583e9b = _0x2c01dd;
      showConfirm(
        () => {
          return loadAvatarUpload(_0x25cbce['url'], _0x25cbce['id']), changeStep(0x2), !![];
        },
        window['translations'][_0x583e9b(0x31a)],
        window[_0x583e9b(0x2df)][_0x583e9b(0x2a6)]
      );
    }),
    _0x1e6cd2[_0x2c01dd(0x2ed)](_0x2c01dd(0x2ea))['on']('click', (_0x29356c) => {
      const _0x84767d = _0x2c01dd;
      _0x29356c[_0x84767d(0x309)](), _0x29356c['stopPropagation']();
      if (!_0x25cbce?.[_0x84767d(0x29b)]) return;
      tempDownload(_0x25cbce?.[_0x84767d(0x29b)]), SendTracking(_0x84767d(0x27f));
    }),
    _0x1e6cd2[_0x2c01dd(0x2ed)]('.dropdown-batch-item-delete')['on']('click', (_0x1bd7a0) => {
      const _0x356ca0 = _0x2c01dd;
      $(_0x356ca0(0x24e) + _0x25cbce['id'])[_0x356ca0(0x22a)](),
        (arrBatchFile = arrBatchFile[_0x356ca0(0x24d)](function (_0x54d0bc) {
          return _0x54d0bc['id'] !== _0x25cbce['id'];
        })),
        renderBatchItemTotal();
    }),
    $(_0x2c01dd(0x2c1))[_0x2c01dd(0x25e)](_0x1e6cd2);
}
function SaveToBatchList() {
  const _0x55cb53 = _0x1e1855;
  if (!avatarObject[_0x55cb53(0x20e)]) return;
  const _0x95914b = arrBatchFile['findIndex'](
    (_0x3edbdf) => _0x3edbdf['id'] == avatarObject['extraId']
  );
  if (_0x95914b < 0x0) return;
  const _0x596371 = arrBatchFile[_0x95914b],
    _0x1222ff = getResultImageData();
  (_0x596371['resultUrl'] = _0x1222ff),
    (_0x596371[_0x55cb53(0x202)] = DataUrlToArrayBuffer(_0x1222ff)),
    (arrBatchFile[_0x95914b] = _0x596371),
    $(_0x55cb53(0x24e) + _0x596371['id'])
    [_0x55cb53(0x2ed)]('.batch-frame-item-image\x20img')
    [_0x55cb53(0x2ef)](_0x55cb53(0x2c7), _0x1222ff);
}
function onDownloadAllBatchPhoto() {
  const _0x5edd14 = _0x1e1855;
  if (arrBatchFile[_0x5edd14(0x232)] == 0x0) return;
  var _0x58df2d = {};
  for (var _0x255ee5 = 0x0; _0x255ee5 < arrBatchFile[_0x5edd14(0x232)]; _0x255ee5++) {
    _0x58df2d[arrBatchFile[_0x255ee5]['id'] + '.jpeg'] = new Uint8Array(
      arrBatchFile[_0x255ee5]['resultArrayBuffer']
    );
  }
  SendTracking('download'), saveZip(UZIP[_0x5edd14(0x30c)](_0x58df2d), _0x5edd14(0x265));
}
function renderBatchItemTotal() {
  const _0xaa01a2 = _0x1e1855;
  $(_0xaa01a2(0x260))[_0xaa01a2(0x33a)]('(' + arrBatchFile[_0xaa01a2(0x232)] + ')');
}
function saveZip(_0x5b76a8, _0x581c3c) {
  const _0x394954 = _0x1e1855;
  if (arrBatchFile[_0x394954(0x232)] == 0x0) return;
  var _0x1bc019 = new Uint8Array(_0x5b76a8),
    _0x405ac7 = document['createElement']('a'),
    _0x25c10b = new Blob([_0x1bc019]),
    _0x2fd70b = window['URL'][_0x394954(0x209)](_0x25c10b);
  (_0x405ac7[_0x394954(0x227)] = _0x2fd70b),
    (_0x405ac7[_0x394954(0x27f)] = new Date()[_0x394954(0x2b6)]() + '_' + _0x581c3c),
    document[_0x394954(0x321)][_0x394954(0x268)](_0x405ac7),
    _0x405ac7[_0x394954(0x255)](),
    document[_0x394954(0x321)][_0x394954(0x1ce)](_0x405ac7);
}
const FONTS = [
  { name: _0x1e1855(0x2f6) },
  { name: _0x1e1855(0x1e2) },
  { name: _0x1e1855(0x1e0) },
  { name: _0x1e1855(0x21d) },
  { name: _0x1e1855(0x22f) },
  { name: _0x1e1855(0x29a) },
  { name: _0x1e1855(0x2fb) },
  { name: _0x1e1855(0x317) },
  { name: _0x1e1855(0x31c) },
  { name: 'Santor' },
  { name: 'BonaNova' },
  { name: _0x1e1855(0x28a) },
];
